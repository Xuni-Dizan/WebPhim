<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thế Giới Anime - Xem Anime Online Vietsub HD</title>
    <meta name="description" content="Khám phá thế giới Anime phong phú với hàng ngàn bộ phim Anime Vietsub chất lượng HD. Cập nhật Anime mới nhất, xem Anime online miễn phí.">
    <meta name="keywords" content="xem anime, anime online, anime vietsub, anime hd, anime mới, anime hay, xem phim hoạt hình nhật bản">

    <link rel="icon" href="../favicon.ico" sizes="any">
    <link rel="icon" href="../access/img/FlickTale.jpg" type="image/jpeg">
    <link rel="apple-touch-icon" href="../apple-touch-icon.png">

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Montserrat:wght@500;600;700;800&family=Orbitron:wght@700;900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="../css/style.css">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Inter', 'sans-serif'],
                        'heading': ['Montserrat', 'sans-serif'],
                        'orbitron': ['Orbitron', 'sans-serif'], 
                    },
                    colors: {
                        'primary': 'var(--primary-color)',
                        'primary-hover': 'var(--primary-hover-color)',
                        'secondary': 'var(--secondary-color)',
                        'light-gray': 'var(--light-gray-color)',
                        'dark-gray': 'var(--dark-gray-color)',
                        'darker-gray': 'var(--darker-gray-color)',
                        'text-color': 'var(--text-color)',
                        'text-muted': 'var(--text-muted-color)',
                        'text-bright': 'var(--text-bright-color)',
                        'border-color': 'var(--border-color)',
                        'anime-accent': 'var(--anime-accent)',
                        'anime-accent-hover': 'var(--anime-accent-hover)',
                        'gold-accent': 'var(--gold-accent)',
                        'highlight': 'var(--highlight-color)',
                    },
                    animation: {
                        'pageFadeIn': 'pageFadeIn var(--animation-duration) var(--animation-timing) forwards',
                        'fadeInUp': 'fadeInUp 0.8s ease-out forwards',
                        'fadeInUpDelayed': 'fadeInUp 0.8s ease-out 0.3s forwards', 
                        'heroTitleSlideIn': 'heroTitleSlideIn 1s cubic-bezier(0.23, 1, 0.32, 1) 0.2s forwards',
                        'heroDescSlideIn': 'heroDescSlideIn 1s cubic-bezier(0.23, 1, 0.32, 1) 0.4s forwards',
                        'heroGenresFadeIn': 'heroGenresFadeIn 1s ease 0.6s forwards',
                        'heroButtonPulse': 'heroButtonPulse 2.5s infinite ease-in-out',
                        'heroButtonShine': 'heroButtonShine 3s infinite linear',
                    },
                    keyframes: {
                        pageFadeIn: { 'from': { opacity: '0' }, 'to': { opacity: '1' }, },
                        fadeInUp: { '0%': { opacity: '0', transform: 'translateY(30px)' }, '100%': { opacity: '1', transform: 'translateY(0)' }, },
                        heroTitleSlideIn: {
                            '0%': { opacity: '0', transform: 'translateY(50px) skewY(5deg)' },
                            '100%': { opacity: '1', transform: 'translateY(0) skewY(0deg)' },
                        },
                        heroDescSlideIn: {
                            '0%': { opacity: '0', transform: 'translateY(40px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        heroGenresFadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        heroButtonPulse: {
                            '0%, 100%': { transform: 'scale(1)', boxShadow: '0 4px 15px rgba(138, 43, 226, 0.4)' },
                            '50%': { transform: 'scale(1.05)', boxShadow: '0 8px 25px rgba(138, 43, 226, 0.6)' },
                        },
                        heroButtonShine: {
                            '0%': { backgroundPosition: '-200% center' },
                            '100%': { backgroundPosition: '200% center' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        .anime-hero {
            /* Styles from style.css or inline if needed */
        }
        
        .hero-content-anime {
            position: relative;
            z-index: 2;
            padding: 2rem 1.5rem;
            max-width: 750px;
            opacity: 0; /* Start hidden for animation */
        }

        @media (min-width: 768px) {
            .hero-content-anime {
                padding: 3rem 4rem; 
                margin-left: 2rem; 
            }
        }

        #anime-hero-title {
            font-family: 'Orbitron', var(--heading-font); 
            font-size: 2.8rem; 
            font-weight: 900; 
            line-height: 1.15;
            text-shadow: 0 3px 15px rgba(0, 0, 0, 0.6), 0 0 5px var(--anime-accent-hover); 
            margin-bottom: 1rem;
            color: var(--text-bright-color);
            opacity: 0; 
        }
        @media (min-width: 768px) {
            #anime-hero-title {
                font-size: 4rem; 
            }
        }

        .hero-content-anime .genres {
            margin-bottom: 1.25rem;
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            opacity: 0; 
        }

        .hero-content-anime .genres span {
            background-color: var(--anime-accent-hover); 
            color: var(--text-bright-color);
            padding: 0.3rem 0.8rem;
            border-radius: var(--border-radius-round, 50px);
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: transform 0.2s ease, background-color 0.2s ease;
        }
        .hero-content-anime .genres span:hover {
            transform: translateY(-2px);
            background-color: var(--anime-accent);
        }

        .hero-content-anime > p { 
            font-size: 1.05rem;
            color: var(--text-color); 
            line-height: 1.65;
            text-shadow: 0 1px 5px rgba(0, 0, 0, 0.7);
            margin-bottom: 1.75rem;
            max-width: 600px; 
            opacity: 0; 
        }
        @media (min-width: 768px) {
             .hero-content-anime > p {
                 font-size: 1.15rem;
             }
        }

        .anime-hero .hero-button { 
            background: linear-gradient(135deg, var(--anime-accent) 0%, var(--anime-accent-hover) 100%);
            color: white;
            font-family: var(--heading-font);
            font-weight: 700; 
            padding: 0.9rem 2rem; 
            border-radius: var(--border-radius-round, 50px);
            transition: transform 0.2s ease, box-shadow 0.3s ease, background-size 0.4s ease;
            box-shadow: 0 5px 20px rgba(138, 43, 226, 0.45);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-size: 0.95rem;
            opacity: 1; 
            animation-delay: 0.8s; 
            background-size: 200% auto; 
        }

        .anime-hero .hero-button:hover {
            transform: translateY(-3px) scale(1.03);
            box-shadow: 0 8px 30px rgba(138, 43, 226, 0.6);
            background-position: right center; 
        }
        
        .anime-hero .hero-button.animate-heroButtonShine:hover { 
             animation-name: heroButtonShine, heroButtonPulse; 
        }

        .anime-hero .hero-button i {
            font-size: 1em; 
            margin-right: 0.6rem;
            transition: transform 0.3s ease;
        }
        .anime-hero .hero-button:hover i {
            transform: rotate(-15deg) scale(1.1);
        }
        .skeleton-card {
            background-color: var(--light-gray-color);
            border-radius: 12px; 
            overflow: hidden;
        }
    </style>
</head>
<body class="bg-secondary text-text-color font-sans">

    <header id="main-header" class="py-3 px-4 md:px-6 lg:px-10">
        <div class="container mx-auto flex justify-between items-center max-w-screen-xl">
            <a href="../index.html" class="header-logo-link" aria-label="Trang chủ Flick Tale">
                <img src="../access/img/logo.png" alt="Logo Flick Tale" class="header-logo">
            </a>

            <nav class="hidden md:flex flex-grow justify-center space-x-5 lg:space-x-7 items-center" aria-label="Điều hướng chính">
                <a href="../index.html">Trang Chủ</a>
                <a href="anime.html" id="nav-anime" class="active-link-anime" aria-current="page">Anime</a>
                <a href="hoat_hinh_2D_3D.html">Phim 2D/3D</a>
            </nav>

            <div class="hidden md:flex items-center space-x-3 lg:space-x-4 flex-shrink-0">
                <a href="#anime-filter-section" id="nav-filter-icon-anime" class="filter-icon-button p-2 rounded-full hover:bg-light-gray" aria-label="Mở bộ lọc Anime">
                    <i class="fas fa-filter text-lg"></i>
                </a>
                <div class="relative search-container"> 
                    <label for="search-input-desktop-anime" class="sr-only">Tìm kiếm Anime</label>
                    <input type="text" id="search-input-desktop-anime" placeholder="Tìm Anime..." 
                           class="search-input" 
                           aria-label="Tìm kiếm Anime" autocomplete="off" 
                           aria-haspopup="listbox" aria-controls="search-suggestions-desktop-anime" 
                           aria-expanded="false">
                    <span class="search-icon" aria-hidden="true"> 
                        <i class="fas fa-search"></i>
                    </span>
                    <div id="search-suggestions-desktop-anime" role="listbox" class="search-suggestions mt-2" aria-label="Gợi ý tìm kiếm Anime">
                        <div class="no-suggestions-placeholder p-3 text-sm text-text-muted text-center italic">Nhập để tìm kiếm...</div>
                    </div>
                </div>
                <button class="text-gray-300 hover:text-white transition duration-300 p-2 rounded-full hover:bg-light-gray" aria-label="Tài khoản người dùng">
                    <i class="fas fa-user text-lg"></i>
                </button>
            </div>

            <div class="md:hidden flex items-center space-x-2">
                 <a href="#anime-filter-section" id="mobile-nav-filter-icon-anime" class="filter-icon-button p-2 rounded-full hover:bg-light-gray" aria-label="Mở bộ lọc Anime">
                     <i class="fas fa-filter text-xl"></i>
                 </a>
                <button id="search-icon-mobile-anime" class="text-gray-300 hover:text-white transition duration-300 p-2 rounded-full hover:bg-light-gray" aria-label="Mở tìm kiếm" aria-expanded="false" aria-controls="mobile-search-container-anime">
                    <i class="fas fa-search text-xl"></i>
                </button>
                <button id="mobile-menu-button-anime" class="text-gray-300 hover:text-white transition duration-300 p-2 rounded-full hover:bg-light-gray" aria-label="Mở menu" aria-expanded="false" aria-controls="mobile-menu-panel-anime">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
        </div>

        <div id="mobile-search-container-anime" class="md:hidden hidden mt-3 px-4 pb-3 relative">
            <div class="search-container relative"> 
                <label for="search-input-mobile-anime" class="sr-only">Tìm kiếm Anime</label>
                <input type="text" id="search-input-mobile-anime" placeholder="Tìm kiếm Anime..." 
                       class="search-input" 
                       aria-label="Tìm kiếm Anime trên di động" autocomplete="off" 
                       aria-haspopup="listbox" aria-controls="search-suggestions-mobile-anime" 
                       aria-expanded="false">
                <span class="search-icon" aria-hidden="true"> 
                    <i class="fas fa-search"></i>
                </span>
                <div id="search-suggestions-mobile-anime" role="listbox" class="search-suggestions mt-2" aria-label="Gợi ý tìm kiếm Anime di động">
                     <div class="no-suggestions-placeholder p-3 text-sm text-text-muted text-center italic">Nhập để tìm kiếm...</div>
                </div>
            </div>
        </div>
    </header>

     <div id="mobile-menu-overlay-anime" class="fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden hidden"></div>
    <div id="mobile-menu-panel-anime" class="fixed top-0 right-0 bottom-0 w-64 bg-light-gray p-5 pt-16 shadow-lg z-50 transform translate-x-full transition-transform duration-300 ease-in-out md:hidden">
        <button id="close-mobile-menu-button-anime" class="absolute top-4 right-4 p-2 text-gray-400 hover:text-white" aria-label="Đóng menu">
            <i class="fas fa-times text-2xl"></i>
        </button>
        <nav class="flex flex-col space-y-4" aria-label="Điều hướng di động">
            <a href="../index.html" class="block py-2 px-3 text-gray-200 hover:bg-gray-700 rounded font-medium">Trang Chủ</a>
            <a href="anime.html" class="block py-2 px-3 text-white bg-anime-accent rounded font-semibold" aria-current="page">Anime</a>
            <a href="hoat_hinh_2D_3D.html" class="block py-2 px-3 text-gray-200 hover:bg-gray-700 rounded font-medium">Phim 2D/3D</a>
            <hr class="border-gray-600 my-3">
             <a href="#" class="block py-2 px-3 text-gray-200 hover:bg-gray-700 rounded font-medium flex items-center gap-2">
                 <i class="fas fa-user w-4 text-center"></i> Tài Khoản
             </a>
        </nav>
    </div>


    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 max-w-screen-xl">

        <section class="anime-hero relative bg-cover bg-center rounded-lg shadow-xl overflow-hidden mb-10" style="background-image: url('https://placehold.co/1920x700/101010/6a0dad?text=Loading+Anime+Hero...'); min-height: 65vh;" aria-labelledby="anime-hero-title">
            <div class="absolute inset-0 bg-gradient-to-t from-secondary via-secondary/70 to-transparent z-0"></div>
            <div class="hero-content-anime relative flex flex-col justify-end h-full animate-fadeInUpDelayed">
                <h1 id="anime-hero-title" class="animate-heroTitleSlideIn">Đang tải...</h1>
                <div class="genres mb-4 flex flex-wrap gap-2 text-xs animate-heroGenresFadeIn">
                    </div>
                <p class="line-clamp-3 animate-heroDescSlideIn">
                    Đang tải mô tả...
                </p>
                <button class="hero-button animate-fadeInUp animate-heroButtonPulse" style="display: none;"> 
                    <i class="fas fa-play"></i> Đang tải...
                </button>
            </div>
        </section>

        <section id="anime-filter-section" aria-labelledby="anime-filter-heading" class="mb-6 p-4 bg-dark-gray rounded-lg shadow-lg hidden">
            <div class="flex flex-wrap gap-4 items-start">
                <h2 id="anime-filter-heading" class="text-lg sm:text-xl font-semibold text-bright-color w-full sm:w-auto flex-shrink-0 mb-2 sm:mb-0 font-heading">Bộ Lọc Anime</h2>
                <div class="flex-grow grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full">
                    <div id="anime-genre-filter-container" class="relative">
                        <label for="anime-genre-filter-button" class="block text-sm font-medium text-text-muted mb-1">Thể loại Anime</label>
                        <button id="anime-genre-filter-button" type="button" class="w-full bg-light-gray border border-border-color text-text-color text-sm rounded-lg focus:ring-anime-accent focus:border-anime-accent p-2.5 text-left flex justify-between items-center appearance-none" aria-haspopup="true" aria-expanded="false" aria-controls="anime-genre-dropdown">
                            <span class="truncate">Chọn thể loại...</span>
                            <i class="fas fa-chevron-down text-xs text-gray-400 ml-2 flex-shrink-0"></i>
                        </button>
                        <div id="anime-genre-dropdown" class="absolute hidden mt-1 w-full rounded-md shadow-lg bg-light-gray ring-1 ring-black ring-opacity-5 z-30 p-2 space-y-1 max-h-60 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-500 scrollbar-track-dark-gray" role="listbox" aria-label="Danh sách thể loại Anime">
                            <div class="p-3 text-sm text-text-muted italic">Đang tải thể loại...</div>
                        </div>
                    </div>

                    <div>
                        <label for="anime-status-filter" class="block text-sm font-medium text-text-muted mb-1">Trạng thái</label>
                        <select id="anime-status-filter" name="status" class="w-full bg-light-gray border border-border-color text-text-color text-sm rounded-lg focus:ring-anime-accent focus:border-anime-accent p-2.5 appearance-none custom-select-arrow" aria-label="Lọc theo trạng thái Anime">
                            <option selected value="all">Tất cả trạng thái</option>
                            <option value="Đang chiếu">Đang chiếu</option>
                            <option value="Hoàn thành">Hoàn thành</option>
                            <option value="Sắp chiếu">Sắp chiếu</option> 
                        </select>
                    </div>

                    <div>
                        <label for="anime-sort-filter" class="block text-sm font-medium text-text-muted mb-1">Sắp xếp theo</label>
                        <select id="anime-sort-filter" name="sort" class="w-full bg-light-gray border border-border-color text-text-color text-sm rounded-lg focus:ring-anime-accent focus:border-anime-accent p-2.5 appearance-none custom-select-arrow" aria-label="Chọn tiêu chí sắp xếp Anime">
                            <option selected value="default">Mặc định</option>
                            <option value="newest">Mới nhất</option>
                            <option value="rating_desc">Đánh giá cao nhất</option>
                            <option value="rating_asc">Đánh giá thấp nhất</option>
                            <option value="title_asc">Tên A-Z</option>
                            <option value="title_desc">Tên Z-A</option>
                        </select>
                    </div>
                </div>
                <div class="w-full sm:w-auto flex items-end flex-shrink-0 mt-4 sm:mt-0">
                    <button id="clear-anime-filters-button" title="Xóa bộ lọc Anime" class="hidden p-2.5 text-text-muted hover:text-text-bright bg-light-gray rounded-lg border border-border-color hover:bg-dark-gray/70 transition duration-200 ml-auto sm:ml-2" aria-label="Xóa bộ lọc Anime">
                        <span class="material-icons-outlined text-lg">close</span>
                    </button>
                </div>
            </div>
        </section>
        <div id="anime-filter-tags-container" class="mb-6 flex flex-wrap gap-2">
        </div>

        <section class="mb-12">
            <h2 id="anime-grid-title" class="section-title font-heading text-2xl mb-6">Tất Cả Anime</h2> 
            <div id="all-anime-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 md:gap-5">
                </div>
            <p id="loading-anime" class="text-text-muted col-span-full text-center py-8 hidden"><i class="fas fa-spinner fa-spin mr-2"></i>Đang tải Anime...</p>
            <p id="no-anime-found" class_name="text-text-muted col-span-full hidden text-center py-8">Không tìm thấy Anime nào phù hợp.</p>
        </section>
    </main>

    <footer class="bg-darker-gray text-gray-400 py-12 px-4 sm:px-6 lg:px-8 mt-16 border-t border-border-color" role="contentinfo">
        <div class="container mx-auto max-w-screen-xl grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="space-y-4">
                <a href="../index.html" class="inline-block mb-2" aria-label="Trang chủ Flick Tale">
                    <span class="text-xl font-bold text-white">Flick Tale</span>
                    </a>
                <p class="text-sm pr-4">
                    Khám phá thế giới điện ảnh với hàng ngàn phim lẻ và phim bộ hấp dẫn. Cập nhật liên tục, chất lượng cao.
                </p>
            </div>

            <div>
                <h3 class="text-lg font-semibold text-white mb-4">Liên Kết Nhanh</h3>
                <nav class="space-y-2" aria-label="Liên kết phụ">
                    <a href="../about.html" class="block hover:text-white hover:underline transition duration-300 text-sm">Về Chúng Tôi</a>
                    <a href="auth/dieu_khoan_su_dung.html" class="block hover:text-white hover:underline transition duration-300 text-sm">Điều Khoản Sử Dụng</a>
                    <a href="auth/chinh_sach_bao_mat.html" class="block hover:text-white hover:underline transition duration-300 text-sm">Chính Sách Bảo Mật</a>
                    <a href="auth/lien_he_ho_tro.html" class="block hover:text-white hover:underline transition duration-300 text-sm">Liên Hệ Hỗ Trợ</a>
                    <a href="hoat_hinh_2D_3D.html" class="block hover:text-white hover:underline transition duration-300 text-sm">Phim 2D/3D</a>
                </nav>
            </div>

            <div>
                <h3 class="text-lg font-semibold text-white mb-4">Theo Dõi Chúng Tôi</h3>
                <div class="flex space-x-4 mb-4" aria-label="Liên kết mạng xã hội">
                    <a href="#" class="hover:text-white transition duration-300 text-xl" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="hover:text-white transition duration-300 text-xl" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="hover:text-white transition duration-300 text-xl" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="hover:text-white transition duration-300 text-xl" aria-label="Youtube"><i class="fab fa-youtube"></i></a>
                </div>
                <h3 class="text-lg font-semibold mb-2 mt-6">Thông Tin Liên Hệ</h3>
                <p class="text-sm">Email: support@flicktale.com</p> <p class="text-sm">Hotline: 1900-1234</p>
           </div>
       </div>
       <div class="mt-10 pt-8 border-t border-gray-700 text-center">
           <p class="text-sm">© <span id="footer-year">2025</span> Flick Tale. Mọi quyền được bảo lưu.</p> <p class="text-xs mt-2 opacity-70">
               Tuyên bố miễn trừ trách nhiệm: Trang web này chỉ dành cho mục đích trình diễn và học tập.
           </p>
       </div>
    </footer>

     <button id="scroll-to-top" class="hidden fixed bottom-5 right-5 w-12 h-12 rounded-full shadow-lg flex items-center justify-center text-lg transition-opacity duration-300 z-50" aria-label="Cuộn lên đầu trang">
        <i class="fas fa-arrow-up"></i>
    </button>
    
    <script src="../js/searchUtils.js"></script>
    <script src="../js/anime.js" defer></script>
</body>
</html>